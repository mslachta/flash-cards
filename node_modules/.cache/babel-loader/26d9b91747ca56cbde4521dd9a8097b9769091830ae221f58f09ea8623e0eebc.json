{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst newQuizAdded = action => {\n  return action.name === \"addQuiz\";\n};\nconst sliceOptions = {\n  name: \"topics\",\n  initialState: {\n    topics: {}\n  },\n  reducers: {\n    addTopic: (state, action) => {\n      return {\n        ...state,\n        topics: {\n          ...state.topics,\n          [action.payload.id]: {\n            id: action.payload.id,\n            name: action.payload.name,\n            icon: action.payload.icon,\n            quizIds: []\n          }\n        }\n      };\n    }\n  },\n  extraReducers: builder => {\n    builder.addMatcher(newQuizAdded, (state, action) => {\n      const topic = state.topics.find(topic => topic.id === action.payload.topicId);\n      if (topic) {\n        return {\n          ...state,\n          topics: {\n            ...state.topics,\n            [action.payload.topicId]: {\n              quizIds: state.topics.quizIds.push(action.payload.id)\n            }\n          }\n        };\n      }\n    }).addDefaultCase((state, action) => {});\n  }\n};\nexport const topicsSlice = createSlice(sliceOptions);\nexport const selectTopics = state => state.topics;\nexport const {\n  addTopic\n} = topicsSlice.actions;\nexport default topicsSlice.reducer;","map":{"version":3,"names":["createSlice","newQuizAdded","action","name","sliceOptions","initialState","topics","reducers","addTopic","state","payload","id","icon","quizIds","extraReducers","builder","addMatcher","topic","find","topicId","push","addDefaultCase","topicsSlice","selectTopics","actions","reducer"],"sources":["/Users/martin/www/_CODECADEMY/local repo/flash-cards/src/features/topics/topicsSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst newQuizAdded = (action) => {\n  return action.name === \"addQuiz\";\n};\n\nconst sliceOptions = {\n  name: \"topics\",\n  initialState: {\n    topics: {},\n  },\n  reducers: {\n    addTopic: (state, action) => {\n      return {\n        ...state,\n        topics: {\n          ...state.topics,\n          [action.payload.id]: {\n            id: action.payload.id,\n            name: action.payload.name,\n            icon: action.payload.icon,\n            quizIds: [],\n          },\n        },\n      };\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addMatcher(newQuizAdded, (state, action) => {\n        const topic = state.topics.find(\n          (topic) => topic.id === action.payload.topicId\n        );\n        if (topic) {\n          return {\n            ...state,\n            topics: {\n              ...state.topics,\n              [action.payload.topicId]: {\n                quizIds: state.topics.quizIds.push(action.payload.id),\n              },\n            },\n          };\n        }\n      })\n      .addDefaultCase((state, action) => {});\n  },\n};\n\nexport const topicsSlice = createSlice(sliceOptions);\n\nexport const selectTopics = (state) => state.topics;\n\nexport const { addTopic } = topicsSlice.actions;\n\nexport default topicsSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,YAAY,GAAIC,MAAM,IAAK;EAC/B,OAAOA,MAAM,CAACC,IAAI,KAAK,SAAS;AAClC,CAAC;AAED,MAAMC,YAAY,GAAG;EACnBD,IAAI,EAAE,QAAQ;EACdE,YAAY,EAAE;IACZC,MAAM,EAAE,CAAC;EACX,CAAC;EACDC,QAAQ,EAAE;IACRC,QAAQ,EAAEA,CAACC,KAAK,EAAEP,MAAM,KAAK;MAC3B,OAAO;QACL,GAAGO,KAAK;QACRH,MAAM,EAAE;UACN,GAAGG,KAAK,CAACH,MAAM;UACf,CAACJ,MAAM,CAACQ,OAAO,CAACC,EAAE,GAAG;YACnBA,EAAE,EAAET,MAAM,CAACQ,OAAO,CAACC,EAAE;YACrBR,IAAI,EAAED,MAAM,CAACQ,OAAO,CAACP,IAAI;YACzBS,IAAI,EAAEV,MAAM,CAACQ,OAAO,CAACE,IAAI;YACzBC,OAAO,EAAE;UACX;QACF;MACF,CAAC;IACH;EACF,CAAC;EACDC,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CACJC,UAAU,CAACf,YAAY,EAAE,CAACQ,KAAK,EAAEP,MAAM,KAAK;MAC3C,MAAMe,KAAK,GAAGR,KAAK,CAACH,MAAM,CAACY,IAAI,CAC5BD,KAAK,IAAKA,KAAK,CAACN,EAAE,KAAKT,MAAM,CAACQ,OAAO,CAACS,OACzC,CAAC;MACD,IAAIF,KAAK,EAAE;QACT,OAAO;UACL,GAAGR,KAAK;UACRH,MAAM,EAAE;YACN,GAAGG,KAAK,CAACH,MAAM;YACf,CAACJ,MAAM,CAACQ,OAAO,CAACS,OAAO,GAAG;cACxBN,OAAO,EAAEJ,KAAK,CAACH,MAAM,CAACO,OAAO,CAACO,IAAI,CAAClB,MAAM,CAACQ,OAAO,CAACC,EAAE;YACtD;UACF;QACF,CAAC;MACH;IACF,CAAC,CAAC,CACDU,cAAc,CAAC,CAACZ,KAAK,EAAEP,MAAM,KAAK,CAAC,CAAC,CAAC;EAC1C;AACF,CAAC;AAED,OAAO,MAAMoB,WAAW,GAAGtB,WAAW,CAACI,YAAY,CAAC;AAEpD,OAAO,MAAMmB,YAAY,GAAId,KAAK,IAAKA,KAAK,CAACH,MAAM;AAEnD,OAAO,MAAM;EAAEE;AAAS,CAAC,GAAGc,WAAW,CAACE,OAAO;AAE/C,eAAeF,WAAW,CAACG,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}